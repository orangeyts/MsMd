<fieldset class="solid">
	<legend>创建tbProject</legend>
	<input type="hidden" name="tbProject.id" value="#(tbProject.id??)" />
	<input type="hidden" name="tbProject.createTime" value="#(tbProject.createTime??)" />
	<input type="hidden" name="tbProject.updateTime" value="#(tbProject.updateTime??)" />
	<div>
		<label>标题</label>
		<input type="text" name="tbProject.title" value="#(tbProject.title??)" />
	</div>
	<div>
		<label>OS类型</label>
		<select name="tbProject.os" id="osSelectId">
			#if(tbProject.os?? == 'linux')
			<option value="linux" selected>linux</option>
			<option value="windows">windows</option>
			#else
			<option value="linux" selected>linux</option>
			<option value="windows" selected>windows</option>
			#end
		</select>
	</div>
	<div>
		<label>脚本模板</label>
	#if(tbProject.id?? == null)
		<select id="templateSelectId">
			#for(x : templateList)
			<option value="#(x.id)">#(x.name)</option>
			#end
		</select>
	#else
		编辑无法选择模板
	#end
	</div>
	<div>
		<label>项目负责人</label>
		<input type="text" name="tbProject.dutyPerson" value="#(tbProject.dutyPerson??)" />
	</div>
	<div>
		<label>代码仓库</label>
		<input type="text" name="tbProject.scmPath" value="#(tbProject.scmPath??)" />
	</div>
	<div>
		<label>代码仓库-账号信息</label>
		<select name="tbProject.accountId">
			#for(x : tbAccountList)
				#if(tbProject.accountId?? == x.id)
					<option value="#(x.id)" selected>#(x.userName)/**</option>
				#else
					<option value="#(x.id)">#(x.userName)/**</option>
				#end
			#end

		</select>
	</div>
	<div>
		<label>项目类型</label>
		<select name="tbProject.type" id="projectTypeSelect">
			<option value="1">java</option>
			<option value="0">vue</option>
		</select>
	</div>
	<div>
		<label>手机号</label>
		<input type="text" name="tbProject.phone" value="#(tbProject.phone??)" />
	</div>
	<div>
		<label>脚本名称</label>
		<input type="text" name="tbProject.scriptFilePath" value="#(tbProject.scriptFilePath??)" />
	</div>
	<div>
		<label>执行脚本</label>
		<textarea name="tbProject.script" id="script" cols="200" rows="50">#(tbProject.script??)</textarea>#(contentMsg)
	</div>
	<div>
		<label>ssh-账号信息</label>
		<select name="tbProject.sshAccountId">
			<option value="0">不上传ssh</option>
			#for(x : tbAccountList)
			#if(tbProject.sshAccountId?? == x.id)
			<option value="#(x.id)" selected>#(x.type)/**</option>
			#else
			<option value="#(x.id)">#(x.type)/**</option>
			#end
			#end

		</select>
	</div>
	<div>
		<label>ssh执行脚本</label>
		<textarea name="tbProject.sshScript" cols="200" rows="50">#(tbProject.sshScript??)</textarea>#(contentMsg)
	</div>
	<div>
		<label>&nbsp;</label>
		<input value="提交" type="submit">
	</div>
</fieldset>
<script type="text/javascript">

	$(function(){
		$("#projectTypeSelect").val("#(tbProject.type??)");
　　	$("#templateSelectId").change(function(){
			var select_val = $(this).children('option:selected').val();
			console.log(select_val);
			var os = $("#osSelectId").val();
			$.post("/project/getTemplate?id="+select_val+"&os="+os,function(result){
				console.log(result);
				if(result){
					$("#script").val(result.script);
				}else{
					alert('没有对应的模板');
				}
			});
		});
　　　　//adding your code here
　　});
</script>